p(X) :- sp(X).
b(X) :- p(X).
b(X) :- o(X).

f(X) :- b(X), not p(X), not o(X).
f(X) :- sp(X).
nf(X) :- p(X), not sp(X).
nf(X) :- o(X).

b(0).
b(1).
b(2).
b(3).
b(4).
b(5).
b(6).
b(7).
b(8).
b(9).
b(10).
b(11).
b(12).
b(13).
b(14).
b(15).
b(16).
b(17).
b(18).
b(19).
b(20).
b(21).
b(22).
b(23).
b(24).
b(25).
b(26).
b(27).
b(28).
b(29).
o(0).
o(1).
o(2).
p(24).
p(25).
p(26).
p(27).
p(28).
p(29).
sp(27).
sp(28).
sp(29).